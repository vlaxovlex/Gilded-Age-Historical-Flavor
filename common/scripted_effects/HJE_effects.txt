
HJE_cleanup_effect = {
	if = {
		limit = {			#USA AI will not be allowed to colonize canadian states
			exists = c:USA
			c:USA = THIS
			is_player = no
			OR = {
				has_state_in_state_region = STATE_ALBERTA
				has_state_in_state_region = STATE_SASKATCHEWAN
			}
			any_country = {
				OR = {
					country_has_primary_culture = cu:anglo_canadian
					country_has_primary_culture = cu:franco_canadian
				}
				OR = {
					has_state_in_state_region = STATE_ALBERTA
					has_state_in_state_region = STATE_SASKATCHEWAN
				}
			}
		}
		random_country = {
			limit = {
				OR = {
					country_has_primary_culture = cu:anglo_canadian
					country_has_primary_culture = cu:franco_canadian
				}
				OR = {
					has_state_in_state_region = STATE_ALBERTA
					has_state_in_state_region = STATE_SASKATCHEWAN
				}
			}
			save_scope_as = canada_scope
		}
		every_state = {
			limit = {
				owner = ROOT
				OR = {
					state_region = s:STATE_ALBERTA
					state_region = s:STATE_SASKATCHEWAN
				}
			}
			set_state_owner = scope:canada_scope
		}
	}
	if = {
		limit = {
			exists = c:TUR
			c:TUR = ROOT
			is_player = no
			NOT = { has_variable = te_wargoals }
			c:EGY = { 
				is_diplomatic_play_enemy_of = ROOT 
				has_state_in_state_region = STATE_ADANA
			}
		}
		c:TUR = { set_variable = te_wargoals }
	    random_diplomatic_play = {
			limit = {
				initiator_is = c:TUR
		        target_is = c:EGY
			}
			add_escalation = 90
			add_initiator_backers = { c:JAB }
			remove_war_goal = {
				who = c:TUR
				war_goal = make_protectorate
			}
			if = {
				limit = { NOT = { s:STATE_ADANA = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_ADANA.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_ALEPPO = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_ALEPPO.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_SYRIA = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_SYRIA.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_LEBANON = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_LEBANON.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_TRANSJORDAN = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_TRANSJORDAN.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_PALESTINE = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_PALESTINE.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { NOT = { s:STATE_CRETE = { is_target_of_wargoal = c:TUR } } }
				add_war_goal = {
					holder = c:TUR
					type = return_state
					target_state = s:STATE_CRETE.region_state:EGY
					primary_demand = yes
				}
			}
			if = {
				limit = { c:GRE = { is_subject_of = c:EGY } }
				add_war_goal = {
					holder = c:TUR
					type = liberate_subject
					target_state = s:STATE_ATTICA.region_state:GRE
					primary_demand = yes
				}
			}
		}
	}
	if = {
		limit = {			#USA AI will try to take these states at least once
			year > 1840
			exists = c:USA
			c:USA = ROOT
			is_player = no
			NOT = { has_variable = am_wargoals }
			c:MEX = { 
				is_diplomatic_play_enemy_of = ROOT 
				OR = {
					has_state_in_state_region = STATE_TEXAS
					has_state_in_state_region = STATE_CALIFORNIA
				}
			}
		}
		c:USA = { set_variable = am_wargoals }
		random_diplomatic_play = {
			limit = {
				any_scope_play_involved = {
					THIS = c:MEX
					is_diplomatic_play_enemy_of = ROOT
				}
			}
			if = {
				limit = { NOT = { c:MEX = { any_scope_state = { is_target_of_wargoal = c:USA } } } }
				if = {
					limit = { c:MEX = { has_state_in_state_region = STATE_TEXAS } }
					add_war_goal = {
						holder = c:USA
						type = return_state
						target_state = s:STATE_TEXAS.region_state:MEX
						primary_demand = yes
					}
				}
				if = {
					limit = { c:MEX = { has_state_in_state_region = STATE_CALIFORNIA } }
					add_war_goal = {
						holder = c:USA
						type = return_state
						target_state = s:STATE_CALIFORNIA.region_state:MEX
						primary_demand = yes
					}
				}
			}
		}
	}
	if = {
		limit = {			#Romania Fix
			exists = c:ROM
			root = c:ROM
			OR = {
				AND = {
					exists = c:MOL
					is_subject_of = c:MOL
				}
				AND = {
					exists = c:WAL
					is_subject_of = c:WAL
				}
			}
		}
		if = {
			limit = {
				exists = c:MOL
				is_subject_of = c:MOL
			}
			create_diplomatic_pact = {
				country = c:MOL
				type = personal_union
			}
			c:MOL = {	
				remove_diplomatic_pact = {
					country = root
					type = puppet
				}
				remove_diplomatic_pact = {
					country = root
					type = protectorate
				}
				remove_diplomatic_pact = {
					country = root
					type = personal_union
				}
			}
		}
		if = {
			limit = {
				exists = c:WAL
				is_subject_of = c:WAL
			}
			create_diplomatic_pact = {
				country = c:WAL
				type = personal_union
			}
			c:WAL = {	
				remove_diplomatic_pact = {
					country = root
					type = puppet
				}
				remove_diplomatic_pact = {
					country = root
					type = protectorate
				}
				remove_diplomatic_pact = {
					country = root
					type = personal_union
				}
			}
		}
	}
	if = {
		limit = {			#Russian government fix 1
			NOT = { has_variable = ai_1861_var }
			year >= 1861
			exists = c:RUS
			c:RUS = ROOT
			c:RUS = { is_player = no }		
		}
		set_ruling_interest_groups = { ig_intelligentsia ig_industrialists }
		activate_law = law_type:law_tenant_farmers
		activate_law = law_type:law_slavery_banned
		activate_law = law_type:law_agrarianism
		set_variable = 1861_var
	}
	
	if = {
		limit = {			#Russian government fix 2
			NOT = { has_variable = ai_1862_var }
			year >= 1862
			exists = c:RUS
			c:RUS = ROOT
			c:RUS = { is_player = no }		
		}
		set_ruling_interest_groups = { ig_intelligentsia ig_industrialists }
		activate_law = law_type:law_professional_army
		activate_law = law_type:law_national_guard
		set_variable = 1862_var
	}	
	
	if = {
		limit = {			#Chinese historical market fix
			NOT = { has_variable = ai_china_closes_markets_again_var }				
			exists = c:CHI
			c:CHI = ROOT
			c:CHI = { is_player = no }
			year >= 1855	
			NOT = { has_global_variable = had_second_opium_war }
			has_variable = var_dynamic_opium_wars_victim
			OR = {
				NOT = { has_law = law_type:law_isolationism }
				trigger_if = {
					any_country = {
						country_rank = rank_value:great_power
						OR = {
							has_diplomatic_pact = { who = ROOT type = foreign_investment_rights }	
							has_diplomatic_pact = { who = ROOT type = foreign_investment_agreement }	
						}
					}
				}
			}
		}
		set_variable = ai_china_closes_markets_again_var
		activate_law = law_type:law_isolationism
		every_country = {
			limit = { has_diplomatic_pact = { who = ROOT type = foreign_investment_rights } }
			remove_diplomatic_pact = {
				country = ROOT
				type = foreign_investment_rights
			}
		}
		every_country = {
			limit = { has_diplomatic_pact = { who = ROOT type = foreign_investment_agreement } }
			remove_diplomatic_pact = {
				country = ROOT
				type = foreign_investment_agreement
			}
		}
	}

	if = {
		limit = {			#Brazilian slavery fix
			exists = c:BRZ
			c:BRZ = ROOT
			year >= 1889		
			c:BRZ = { is_player = no }	
			NOT = { has_variable = ai_brazil_bans_slavery_var }
		}
		activate_law = law_type:law_slavery_banned	
		set_variable = ai_brazil_bans_slavery_var		
	}

	if = {
		limit = {			#British colonization buff
			exists = c:GBR
			c:GBR = ROOT
			c:GBR = { is_player = no }		
			year >= 1850
			NOT = { has_variable = ai_tech_buff_for_suez_expedition_var }
		}
		add_technology_researched = nationalism
		add_technology_researched = colonization
		set_variable = ai_tech_buff_for_suez_expedition_var
	}
	
	if = {
		limit = {			#Brazilian education fix
			exists = c:BRZ
			c:BRZ = ROOT
			c:BRZ = { is_player = no }	
			NOT = { has_variable = ai_brazil_education_reforms_var }
			year >= 1851 # vague date lol
			has_law = law_type:law_monarchy	
		}
		activate_law = law_type:law_public_schools
		set_variable = ai_brazil_education_reforms_var
	}

	if = {
		limit = {			#Anyone who tries to colonize New Zealand states once it exists instantly gives colonial states to New Zealand
			exists = c:GBR
			any_country = {
				NOT = { THIS = ROOT }
				is_subject_of = c:GBR
				has_variable = new_zealand_variable
			}
			OR = {
				c:GBR = ROOT
				is_subject_of = c:GBR
				AND = {
					exists = c:DEI 	#idk why but DEI does it too
					c:DEI = ROOT
					is_player = no 
				}
			}
			any_scope_state = {
				OR = {
					state_region = s:STATE_NORTH_ISLAND
					state_region = s:STATE_SOUTH_ISLAND
				}
			}
		}
		random_country = {
			limit = { has_variable = new_zealand_variable }
			save_scope_as = new_zealand_scope
		}
		every_state = {
			limit = {
				OR = {
					owner = c:GBR
					owner = { is_subject_of = c:GBR }
				}
				OR = {
					state_region = s:STATE_NORTH_ISLAND
					state_region = s:STATE_SOUTH_ISLAND
				}
			}
			set_state_owner = scope:new_zealand_scope
		}
	}

	if = {
		limit = {
			exists = c:GBR
			c:GBR = ROOT
			has_truce_with = c:CHI
			has_journal_entry = je_opium_wars
		}
		end_truce = { country = c:CHI }
		c:CHI = { end_truce = { country = c:GBR } }
	}

	if = { ## FIX TO TRY AND PREVENT AI BRITAIN FROM BEING SO DAMNED AUTHORITARIAN
		limit = {
			year > 1860
			is_player = no
			has_law = law_type:law_monarchy
			has_strategy = ai_strategy_conservative_agenda
			exists = c:GBR
			c:GBR = THIS
			NOR = {
				has_law = law_type:law_public_health_insurance
				has_law = law_type:law_multicultural
				has_law = law_type:law_old_age_pension
				has_law = law_type:law_protected_speech
				has_law = law_type:law_graduated_taxation
				has_law = law_type:law_womens_suffrage
				has_law = law_type:law_cooperative_ownership
				has_law = law_type:law_guaranteed_liberties
				has_law = law_type:law_worker_protections
				has_law = law_type:law_universal_suffrage
			}
		}
		set_strategy = ai_strategy_progressive_agenda
	}

	if = {
		limit = { 
			exists = c:GER 
			NOT = { has_global_variable = capital_of_germany_mod_applied } 
			c:GER = {
				country_is_in_europe = yes
				any_scope_state = { 
					is_capital = yes 
					OR = {
						cu:north_german = { has_homeland = PREV }
						cu:south_german = { has_homeland = PREV }
					}
				}
			}
		}
		set_global_variable = capital_of_germany_mod_applied
		c:GER = {
			random_scope_state = {
				limit = {
					is_capital = yes 
					OR = {
						cu:north_german = { has_homeland = PREV }
						cu:south_german = { has_homeland = PREV }
					}
				}
				add_modifier = { 
					name = modifier_state_capital_of_germany
					months = -1
				}
			}
		}
	}
	if = {
		limit = {			#Cuba AI liberty desire
			year > 1860
			exists = c:CUB
			c:CUB = THIS
			NOT = { has_strategy = ai_strategy_subject_break_free }
			any_overlord_or_above = {
				country_is_in_north_america = no
				country_is_in_central_america = no
				country_is_in_south_america = no
			}
		}
		set_strategy = ai_strategy_subject_break_free
	}
	if = {
		limit = {			#Philippines AI liberty desire
			year > 1880
			exists = c:PHI
			c:PHI = THIS
			NOT = { has_strategy = ai_strategy_subject_break_free }
			any_overlord_or_above = {
				country_is_in_north_america = no
				country_is_in_central_america = no
				country_is_in_south_america = no
			}
		}
		set_strategy = ai_strategy_subject_break_free
	}

	if = {
		limit = {			#Italians join in on the Brother's War
			is_player = no
			OR = {
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:south_italian
			}
			calc_true_if = {
				amount >= 6
				any_scope_state = { state_region = s:STATE_LOMBARDY }
				any_scope_state = { state_region = s:STATE_PIEDMONT }
				any_scope_state = { state_region = s:STATE_UMBRIA }
				any_scope_state = { state_region = s:STATE_CAMPANIA }
				any_scope_state = { state_region = s:STATE_CALABRIA }
				any_scope_state = { state_region = s:STATE_APULIA }
				any_scope_state = { state_region = s:STATE_ABRUZZO }
				any_scope_state = { state_region = s:STATE_SAVOY }
				any_scope_state = { state_region = s:STATE_EMILIA }
				any_scope_state = { state_region = s:STATE_TUSCANY }
				any_scope_state = { state_region = s:STATE_ROMAGNA }
				any_scope_state = { state_region = s:STATE_LAZIO }
				any_scope_state = { state_region = s:STATE_VENETIA }
				any_scope_state = { state_region = s:STATE_SICILY }
			}
			aggressive_diplomatic_plays_permitted = yes
			exists = c:AUS
			NOT = { c:AUS = { is_diplomatic_play_enemy_of = ROOT } }
			OR = {
				c:AUS = { has_state_in_state_region = STATE_VENETIA }
				c:AUS = { has_state_in_state_region = STATE_LOMBARDY }
			}
			any_country = {
				NOT = { THIS = ROOT }
				NOT = { THIS = c:AUS }
				is_adjacent_to_country = c:AUS
				country_rank >= rank_value:great_power
				is_diplomatic_play_enemy_of = c:AUS
				is_diplomatic_play_initiator = yes
			}
			NOT = { has_variable = ai_venetia_var }
		}
		s:STATE_VENETIA = { add_claim = root }
		s:STATE_LOMBARDY = { add_claim = root }
		random_country = {
			limit = {
				is_unification_candidate = GER
				is_diplomatic_play_enemy_of = c:AUS
			}
			random_diplomatic_play = {
				limit = {
					initiator_is = PREV
					target_is = c:AUS
				}
				add_initiator_backers = { ROOT }
				add_war_goal = {
					holder = ROOT
					type = return_state
					target_state = s:STATE_VENETIA.region_state:AUS			
					primary_demand = yes
				}
				add_war_goal = {
					holder = ROOT
					type = return_state
					target_state = s:STATE_LOMBARDY.region_state:AUS			
					primary_demand = yes
				}
			}
		}
		add_modifier = { 
			name = wartime_zeal
			months = 12
		}
		set_variable = ai_venetia_var				
	}
	
	if = {
		limit = {			#Give Italy Former the opportunity to move capital to Rome
			exists = c:ITA
			c:ITA = THIS
			NOT = { has_variable = ITA_newly_formed_capital_decision }
		}
		c:ITA = { 
			set_variable = ITA_newly_formed_capital_decision
			trigger_event = { id = HJE_main.1 }
		}
	}
}

HJE_ideologies_effect = {
	if = {
		limit = {			#Reactionaries random chance to become Estatists
			GovPlus_is_active_trigger = no
			reactionary_revolution_ongoing = no
			has_law = law_type:law_monarchy	
			NOR = { ## is not a historically autocratic country
				AND = { exists = c:FRA c:FRA = ROOT year < 1870 }
				AND = { exists = c:AUS c:AUS = ROOT year < 1900 }
				AND = { exists = c:RUS c:RUS = ROOT year < 1900 }
				AND = { exists = c:TUR c:TUR = ROOT year < 1900 }
				AND = { exists = c:CHI c:CHI = ROOT year < 1900 }
				AND = { exists = c:MEX c:MEX = ROOT year < 1900 }
			}
			OR = {
				has_law = law_type:law_landed_voting
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
			any_interest_group = {
				has_ideology = ideology:ideology_paternalistic
				NOT = { has_ideology = ideology:ideology_pro_slavery }
				leader = {
					NOR = {
						has_ideology = ideology:ideology_slaver
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_theocrat
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_traditionalist
					}
				}
			}
		}
		random_list = {
			95 = {  }
			5 = { 
				random_interest_group = {
					limit = {
						has_ideology = ideology:ideology_paternalistic
						NOT = { has_ideology = ideology:ideology_pro_slavery }
						leader = {
							NOR = {
								has_ideology = ideology:ideology_slaver
								has_ideology = ideology:ideology_fascist
								has_ideology = ideology:ideology_integralist
								has_ideology = ideology:ideology_theocrat
								has_ideology = ideology:ideology_ethno_nationalist
								has_ideology = ideology:ideology_traditionalist
							}
						}
					}
					remove_ideology = ideology_paternalistic
					add_ideology = ideology_hje_estatist
				}
			}
		}
	}
	if = {
		limit = {			#Reactionaries random chance to become Conservative
			GovPlus_is_active_trigger = no
			reactionary_revolution_ongoing = no
			OR = {
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
			NOR = { ## is not a historically autocratic country
				AND = { exists = c:FRA c:FRA = ROOT year < 1870 }
				AND = { exists = c:AUS c:AUS = ROOT year < 1900 }
				AND = { exists = c:RUS c:RUS = ROOT year < 1900 }
				AND = { exists = c:TUR c:TUR = ROOT year < 1900 }
				AND = { exists = c:CHI c:CHI = ROOT year < 1900 }
				AND = { exists = c:MEX c:MEX = ROOT year < 1900 }
			}
			any_interest_group = {
				has_ideology = ideology:ideology_stratocratic
				NOT = { has_ideology = ideology:ideology_pro_slavery }
				leader = {
					NOR = {
						has_ideology = ideology:ideology_slaver
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_theocrat
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_traditionalist
					}
				}
			}
		}
		random_list = {
			95 = {  }
			5 = { 
				random_interest_group = {
					limit = {
						has_ideology = ideology:ideology_stratocratic
						NOT = { has_ideology = ideology:ideology_pro_slavery }
						leader = {
							NOR = {
								has_ideology = ideology:ideology_slaver
								has_ideology = ideology:ideology_fascist
								has_ideology = ideology:ideology_integralist
								has_ideology = ideology:ideology_theocrat
								has_ideology = ideology:ideology_ethno_nationalist
								has_ideology = ideology:ideology_traditionalist
							}
						}
					}
					remove_ideology = ideology_stratocratic
					add_ideology = ideology_hje_conservative
				}
			}
		}
	}
	if = {
		limit = {			#Reactionaries random chance to become Libertarian
			year > 1850
			GovPlus_is_active_trigger = no
			reactionary_revolution_ongoing = no
			OR = {
				has_law = law_type:law_landed_voting
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
			NOR = { ## is not a historically autocratic country
				AND = { exists = c:FRA c:FRA = ROOT year < 1870 }
				AND = { exists = c:AUS c:AUS = ROOT year < 1900 }
				AND = { exists = c:RUS c:RUS = ROOT year < 1900 }
				AND = { exists = c:TUR c:TUR = ROOT year < 1900 }
				AND = { exists = c:CHI c:CHI = ROOT year < 1900 }
				AND = { exists = c:MEX c:MEX = ROOT year < 1900 }
			}
			any_interest_group = {
				has_ideology = ideology:ideology_plutocratic
				leader = {
					NOR = {
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_theocrat
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_traditionalist
					}
				}
			}
		}
		random_list = {
			95 = {  }
			5 = { 
				random_interest_group = {
					limit = {
						has_ideology = ideology:ideology_plutocratic
						leader = {
							NOR = {
								has_ideology = ideology:ideology_fascist
								has_ideology = ideology:ideology_integralist
								has_ideology = ideology:ideology_theocrat
								has_ideology = ideology:ideology_ethno_nationalist
								has_ideology = ideology:ideology_traditionalist
							}
						}
					}
					remove_ideology = ideology_plutocratic
					add_ideology = ideology_hje_libertarian
				}
			}
		}
	}
}
create_random_orleanist_ruler = {
	random_list = {
		3 = { create_character = { first_name = Philippe last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Ferdinand-Philippe last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Jean last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Francois last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Henri last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Louis last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Charles last_name = d_Orleans ruler = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
	}
}
create_random_legitimist_ruler = {
	random_list = {
		5 = { create_character = { first_name = Louis last_name = de_Bourbon ruler = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		4 = { create_character = { first_name = Charles last_name = de_Bourbon ruler = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		3 = { create_character = { first_name = Henri last_name = de_Bourbon ruler = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		1 = { create_character = { first_name = Francois last_name = de_Bourbon ruler = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
	}
}
create_random_bonapartist_ruler = {
	random_list = {
		3 = { create_character = { first_name = Napoleon-Louis last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Joseph last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Jerome last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Eugene last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Victor last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Charles last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		1 = { create_character = { first_name = Jean-Christophe last_name = Bonaparte ruler = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
	}
}
create_random_orleanist_heir = {
	random_list = {
		3 = { create_character = { first_name = Philippe last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Ferdinand-Philippe last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Jean last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		3 = { create_character = { first_name = Francois last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Henri last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Louis last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
		1 = { create_character = { first_name = Charles last_name = d_Orleans age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_orleanist } } }
	}
}
create_random_legitimist_heir = {
	random_list = {
		5 = { create_character = { first_name = Louis last_name = de_Bourbon age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		4 = { create_character = { first_name = Charles last_name = de_Bourbon age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		3 = { create_character = { first_name = Henri last_name = de_Bourbon age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_legitimist } } }
		1 = { create_character = { first_name = Francois last_name = de_Bourbon age = 0 heir = yes ideology = ideology_royalistideology_royalist on_created = { set_variable = is_legitimist } } }
	}
}
create_random_bonapartist_heir = {
	random_list = {
		3 = { create_character = { first_name = Napoleon-Louis last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Joseph last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Jerome last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Eugene last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Victor last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		3 = { create_character = { first_name = Napoleon-Charles last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
		1 = { create_character = { first_name = Jean-Christophe last_name = Bonaparte age = 0 heir = yes ideology = ideology_royalist on_created = { set_variable = is_bonapartist } } }
	}
}

HJE_apply_historical_dynasty_heirs_GBR_effect = {
	if = {
		limit = {
			year < 1842
			NOT = { has_global_variable = edward_7_of_england_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hannover }
				OR = {
					AND = { 
						exists = c:ENG
						this = c:ENG
		            }
		            AND = { 
						NOT = { exists = c:ENG }
						exists = c:GBR
						this = c:GBR
						c:GBR = { owns_entire_state_region = STATE_HOME_COUNTIES }
		            }
		        }
			}
		}
		set_global_variable = edward_7_of_england_born
		owner = {
			create_character = {
				first_name = Edward
				last_name = Hannover
				historical = yes
				noble = yes
				heir = yes		
				age = 0
				interest_group = ig_armed_forces
				female = no
				dna = dna_edward_7
				ideology = ideology:ideology_royalist
				traits = {
					imperious
					charismatic
					romantic
				}
				on_created = {
					set_variable = is_edward_7
					set_variable = is_hannover
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1842
			NOT = { has_global_variable = edward_7_of_england_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hannover }
				OR = {
					AND = { 
						exists = c:ENG
						this = c:ENG
		            }
		            AND = { 
						NOT = { exists = c:ENG }
						exists = c:GBR
						this = c:GBR
						c:GBR = { owns_entire_state_region = STATE_HOME_COUNTIES }
		            }
		        }
			}
		}
		set_global_variable = edward_7_of_england_born
		owner = {
			create_character = {
				first_name = Edward
				last_name = Hannover
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1841.11.9
				interest_group = ig_armed_forces
				female = no
				dna = dna_edward_7
				ideology = ideology:ideology_royalist
				traits = {
					imperious
					charismatic
					romantic
				}
				on_created = {
					set_variable = is_edward_7
					set_variable = is_hannover
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1866
			has_global_variable = edward_7_of_england_born
			NOT = { has_global_variable = george_5_of_england_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hannover }
				OR = {
					AND = { 
						exists = c:ENG
						this = c:ENG
		            }
		            AND = { 
						NOT = { exists = c:ENG }
						exists = c:GBR
						this = c:GBR
						c:GBR = { owns_entire_state_region = STATE_HOME_COUNTIES }
		            }
		        }
			}
		}
		set_global_variable = george_5_of_england_born
		owner = {
			create_character = {
				first_name = George
				last_name = Hannover
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1865.6.3
				interest_group = ig_armed_forces
				female = no
				dna = dna_george_5
				ideology = ideology:ideology_royalist
				traits = {
					meticulous
					direct
					cautious
				}
				on_created = {
					set_variable = is_george_5
					set_variable = is_hannover
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1895
			has_global_variable = edward_7_of_england_born
			has_global_variable = george_5_of_england_born
			NOT = { has_global_variable = edward_8_of_england_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hannover }
				OR = {
					AND = { 
						exists = c:ENG
						this = c:ENG
		            }
		            AND = { 
						NOT = { exists = c:ENG }
						exists = c:GBR
						this = c:GBR
						c:GBR = { owns_entire_state_region = STATE_HOME_COUNTIES }
		            }
		        }
			}
		}
		set_global_variable = edward_8_of_england_born
		owner = {
			create_character = {
				first_name = Edward
				last_name = Windsor
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1894.6.23
				interest_group = ig_petty_bourgeoisie
				female = no
				dna = dna_gbr_edward_08
				ideology = ideology:ideology_authoritarian
				traits = {
					imperious
					arrogant
					charismatic
				}
				on_created = {
					set_variable = is_edward_8
					set_variable = is_hannover
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_hannover }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hannover }
			}
		}
		set_variable = is_hannover
	}
}

HJE_apply_historical_dynasty_heirs_PRU_effect = {
	if = {
		limit = {
			NOT = { has_global_variable = wilhelm_1_von_preusen_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hohenzollern }
				OR = {
					was_formed_from = PRU
					AND = { 
						exists = c:PRU 
						THIS = c:PRU 
						NOT = { has_global_variable = NGF_formed_from_PRU_globevar }
						NOT = { has_global_variable = GER_formed_from_PRU_globevar }
					}
					AND = {
						exists = c:NGF 
						THIS = c:NGF
						has_global_variable = NGF_formed_from_PRU_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_PRU_globevar
					}
		        }
			}
		}
		set_global_variable = wilhelm_1_von_preusen_born
		owner = {
			create_character = {
				first_name = Wilhelm
				last_name = von_Hohenzollern
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1797.3.22
				dna = dna_emperor_wilhelm_1
				interest_group = ig_landowners
				female = no
				ideology = ideology:ideology_royalist
				traits = {
        			hje_hale
					romantic
					popular_commander
				}
				on_created = {
					set_variable = is_wilhelm_1
					set_variable = is_hohenzollern
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1851
			has_global_variable = wilhelm_1_von_preusen_born
			NOT = { has_global_variable = friedrich_3_von_preusen_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hohenzollern }
				OR = {
					was_formed_from = PRU
					AND = { 
						exists = c:PRU 
						THIS = c:PRU 
						NOT = { has_global_variable = NGF_formed_from_PRU_globevar }
						NOT = { has_global_variable = GER_formed_from_PRU_globevar }
					}
					AND = {
						exists = c:NGF 
						THIS = c:NGF
						has_global_variable = NGF_formed_from_PRU_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_PRU_globevar
					}
		        }
			}
		}
		set_global_variable = friedrich_3_von_preusen_born
		owner = {
			create_character = {
				first_name = Friedrich
				last_name = von_Hohenzollern
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1831.10.18
				dna = dna_emperor_friedrich_3
				interest_group = ig_armed_forces
				female = no
				ideology = ideology:ideology_radical
				traits = {
					cancer
					popular_commander
					persistent
				}
				on_created = {
					set_variable = is_friedrich_3
					set_variable = is_hohenzollern
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1859
			has_global_variable = wilhelm_1_von_preusen_born
			has_global_variable = friedrich_3_von_preusen_born
			NOT = { has_global_variable = wilhelm_2_von_preusen_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hohenzollern }
				OR = {
					was_formed_from = PRU
					AND = { 
						exists = c:PRU 
						THIS = c:PRU 
						NOT = { has_global_variable = NGF_formed_from_PRU_globevar }
						NOT = { has_global_variable = GER_formed_from_PRU_globevar }
					}
					AND = {
						exists = c:NGF 
						THIS = c:NGF
						has_global_variable = NGF_formed_from_PRU_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_PRU_globevar
					}
		        }
			}
		}
		set_global_variable = wilhelm_2_von_preusen_born
		owner = {
			create_character = {
				first_name = Wilhelm
				last_name = von_Hohenzollern
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1859.1.27
				dna = dna_emperor_wilhelm_2
				interest_group = ig_landowners
				female = no
				ideology = ideology:ideology_jingoist_leader
				traits = {
					wrathful
					experienced_colonial_administrator
					imperious
					direct
				}
				on_created = {
					set_variable = is_wilhelm_2
					set_variable = is_hohenzollern
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1883
			has_global_variable = wilhelm_1_von_preusen_born
			has_global_variable = friedrich_3_von_preusen_born
			has_global_variable = wilhelm_2_von_preusen_born
			NOT = { has_global_variable = wilhelm_3_von_preusen_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hohenzollern }
				OR = {
					was_formed_from = PRU
					AND = { 
						exists = c:PRU 
						THIS = c:PRU 
						NOT = { has_global_variable = NGF_formed_from_PRU_globevar }
						NOT = { has_global_variable = GER_formed_from_PRU_globevar }
					}
					AND = {
						exists = c:NGF 
						THIS = c:NGF
						has_global_variable = NGF_formed_from_PRU_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_PRU_globevar
					}
		        }
			}
		}
		set_global_variable = wilhelm_3_von_preusen_born
		owner = {
			create_character = {
				first_name = Wilhelm
				last_name = von_Hohenzollern
				historical = yes
				noble = yes
				heir = yes		
				birth_date = 1882.5.6
				dna = dna_kronprinz_wilhelm
				interest_group = ig_landowners
				female = no
				ideology = ideology:ideology_royalist
				traits = {
					charismatic
					expensive_tastes
					popular_commander
				}
				on_created = {
					set_variable = is_kronprinz
					set_variable = is_hohenzollern
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_hohenzollern }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_hohenzollern }
			}
		}
		set_variable = is_hohenzollern
	}
}

HJE_apply_historical_dynasty_heirs_TUR_effect = {
	if = {
		limit = {
			year < 1841
			NOT = { has_global_variable = murad_5_born }
			owner = { 
				exists = c:TUR
				this = c:TUR
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_osmanoglu }
			}
		}
		set_global_variable = murad_5_born
		owner = {
			create_character = {
				first_name = Murad
				last_name = Osmanoglu
				historical = yes
				noble = yes
				female = no
				heir = yes		
				age = 0
				dna = dna_murad_5
				interest_group = ig_intelligentsia
				ideology = ideology:ideology_reformer
				traits = {
					psychological_affliction
        			basic_diplomat
					reserved
				}
				on_created = {
					set_variable = is_murad_5
					set_variable = is_osmanoglu
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1841
			NOT = { has_global_variable = murad_5_born }
			owner = { 
				exists = c:TUR
				this = c:TUR
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_osmanoglu }
			}
		}
		set_global_variable = murad_5_born
		owner = {
			create_character = {
				first_name = Murad
				last_name = Osmanoglu
				historical = yes
				noble = yes
				female = no
				heir = yes		
				birth_date = 1840.9.21
				dna = dna_murad_5
				interest_group = ig_intelligentsia
				ideology = ideology:ideology_reformer
				traits = {
					psychological_affliction
        			basic_diplomat
					reserved
				}
				on_created = {
					set_variable = is_murad_5
					set_variable = is_osmanoglu
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1845
			has_global_variable = murad_5_born
			NOT = { has_global_variable = mehmed_5_born }
			owner = { 
				exists = c:TUR
				this = c:TUR
				has_law = law_type:law_monarchy 
				ruler = { 
					has_variable = is_osmanoglu 
					NOT = { has_variable = is_murad_5 }
				}
			}
		}
		set_global_variable = mehmed_5_born
		owner = {
			create_character = {
				first_name = Mehmed
				last_name = Osmanoglu
				historical = yes
				noble = yes
				female = no
				heir = yes		
				birth_date = 1844.11.2
				dna = dna_tur_mehmed_05
				interest_group = ig_landowners
				ideology = ideology:ideology_moderate
				traits = {
        			reserved
				}
				on_created = {
					set_variable = is_mehmed_5
					set_variable = is_osmanoglu
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1869
			has_global_variable = murad_5_born
			has_global_variable = mehmed_5_born
			NOT = { has_global_variable = abdulmecid_2_born }
			owner = { 
				exists = c:TUR
				this = c:TUR
				has_law = law_type:law_monarchy 
				ruler = { 
					has_variable = is_osmanoglu
					NOT = { has_variable = is_murad_5 }
				}
			}
		}
		set_global_variable = abdulmecid_2_born
		owner = {
			create_character = {
				first_name = Abdulmecid
				last_name = Osmanoglu
				historical = yes
				noble = yes
				female = no
				heir = yes		
				birth_date = 1868.5.30
				dna = dna_abdulmecid_2
				interest_group = ig_intelligentsia
				ideology = ideology:ideology_moderate
				traits = {
					cautious
					romantic
					pious
				}
				on_created = {
					set_variable = is_abdulmecid_2
					set_variable = is_osmanoglu
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_osmanoglu }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_osmanoglu }
			}
		}
		set_variable = is_osmanoglu
	}
}

HJE_apply_historical_dynasty_heirs_RUS_effect = {
	if = {
		limit = {
			year < 1844
			NOT = { has_global_variable = tsarevich_nicky_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy 
				ruler = { 
					has_variable = is_romanov 
					has_variable = is_aleksandr_ii
				}
			}
		}
		set_global_variable = tsarevich_nicky_born
		owner = {
			create_character = {
				first_name = Nikolai
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				age = 0
				female = no
				dna = dna_tsarevich_nicholas
				interest_group = ig_intelligentsia
				ideology = ideology_reformer
				traits = {
					erudite 
					romantic
				}
				on_created = {
					set_variable = is_tserevich_nicky
					set_variable = is_romanov
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1844
			NOT = { has_global_variable = tsarevich_nicky_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy 
				ruler = { 
					has_variable = is_romanov 
					has_variable = is_aleksandr_ii
				}
			}
		}
		set_global_variable = tsarevich_nicky_born
		owner = {
			create_character = {
				first_name = Nikolai
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				female = no
				birth_date = 1843.9.8
				dna = dna_tsarevich_nicholas
				interest_group = ig_intelligentsia
				ideology = ideology_reformer
				traits = {
					erudite 
					romantic
				}
				on_created = {
					set_variable = is_tserevich_nicky
					set_variable = is_romanov
				}
			}
		}
	}
	if = {
		limit = {
			year < 1846
			NOT = { has_global_variable = aleksandr_iii_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy 
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = aleksandr_iii_born
		owner = {
			create_character = {
				first_name = alexander_iii_first_name
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				age = 0
				female = no
				dna = dna_tsar_alexander_03
				interest_group = ig_landowners
				ideology = ideology_traditionalist
				traits = {
					imposing
					charismatic
					bigoted
				}
				on_created = {
					set_variable = is_alex_iii
					set_variable = is_romanov
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1846
			NOT = { has_global_variable = aleksandr_iii_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = aleksandr_iii_born
		owner = {
			create_character = {
				first_name = alexander_iii_first_name
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				female = no
				birth_date = 1845.3.10
				dna = dna_tsar_alexander_03
				interest_group = ig_landowners
				ideology = ideology_traditionalist
				traits = {
					imposing
					charismatic
					bigoted
				}
				on_created = {
					set_variable = is_alex_iii
					set_variable = is_romanov
				}
			}
		}
	}
	if = {
		limit = {
			year < 1869
			has_global_variable = aleksandr_iii_born
			NOT = { has_global_variable = nicky_ii_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = nicky_ii_born
		owner = {
			create_character = {
				# That guy who got shot by the Bolsheviks
				first_name = "nicholas_ii_first_name"
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				age = 0
				female = no
				dna = dna_tsar_nicolas_02
				interest_group = ig_landowners
				ideology = ideology_authoritarian
				traits = {
					imperious 
					arrogant
					pious
					scarred #Otsu Incident, should probably be made an event
				}
				on_created = {
					set_variable = is_nicky_ii
					set_variable = is_romanov
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1869
			has_global_variable = aleksandr_iii_born
			NOT = { has_global_variable = nicky_ii_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = nicky_ii_born
		owner = {
			create_character = {
				# That guy who got shot by the Bolsheviks
				first_name = "nicholas_ii_first_name"
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				female = no
				birth_date = 1868.5.18
				dna = dna_tsar_nicolas_02
				interest_group = ig_landowners
				ideology = ideology_authoritarian
				traits = {
					imperious 
					arrogant
					pious
					scarred #Otsu Incident, should probably be made an event
				}
				on_created = {
					set_variable = is_nicky_ii
					set_variable = is_romanov
				}
			}
		}
	}
	if = {
		limit = {
			year < 1905
			has_global_variable = aleksandr_iii_born
			has_global_variable = nicky_ii_born
			NOT = { has_global_variable = sick_alexei_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = sick_alexei_born
		owner = {
			create_character = {
				first_name = Alexei
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				female = no
				birth_date = 1904.8.12
				interest_group = ig_landowners
				ideology = ideology_jingoist_leader
				traits = {
					sickly 
					romantic
					arrogant
				}
				on_created = {
					set_variable = alexei_alexei_musnt_run_musnt_climb_must_be_careful_all_the_time
					set_variable = is_romanov
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1905
			has_global_variable = aleksandr_iii_born
			has_global_variable = nicky_ii_born
			NOT = { has_global_variable = sick_alexei_born }
			owner = { 
				exists = c:RUS
				this = c:RUS
				has_law = law_type:law_monarchy
				ruler = { 
					has_variable = is_romanov 
					NOT = { has_variable = is_aleksandr_ii }
				}
			}
		}
		set_global_variable = sick_alexei_born
		owner = {
			create_character = {
				first_name = Alexei
				last_name = Romanov
				historical = yes
				noble = yes
				heir = yes
				female = no
				birth_date = 1904.8.12
				interest_group = ig_landowners
				ideology = ideology_jingoist_leader
				traits = {
					sickly 
					romantic
					arrogant
				}
				on_created = {
					set_variable = alexei_alexei_musnt_run_musnt_climb_must_be_careful_all_the_time
					set_variable = is_romanov
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_romanov }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_romanov }
			}
		}
		set_variable = is_romanov
	}
}

HJE_apply_historical_dynasty_heirs_AUS_effect = {
	if = {
		limit = {
			year < 1859
			NOT = { has_global_variable = suicide_rudolf_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_habsburg }
				OR = {
					was_formed_from = AUS
					AND = { 
						exists = c:AUS 
						THIS = c:AUS 
						NOT = { has_global_variable = SGF_formed_from_AUS_globevar }
						NOT = { has_global_variable = GER_formed_from_AUS_globevar }
					}
					AND = {
						exists = c:SGF 
						THIS = c:SGF
						has_global_variable = SGF_formed_from_AUS_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_AUS_globevar
					}
		        }
			}
		}
		set_global_variable = suicide_rudolf_born
		owner = {
			create_character = {
				first_name = Rudolf
				last_name = von_Habsburg
				historical = yes
				noble = yes
				heir = yes		
				female = no
				age = 0
				interest_group = ig_intelligentsia
				dna = dna_aus_rudolf_01
				ideology = ideology_reformer
				traits = {
					reckless
					alcoholic
					psychological_affliction
				}
				on_created = {
					set_variable = is_habsburg
					set_variable = is_suicide_rudolf
					set_variable = weight_does_not_change
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1859
			NOT = { has_global_variable = suicide_rudolf_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_habsburg }
				OR = {
					was_formed_from = AUS
					AND = { 
						exists = c:AUS 
						THIS = c:AUS 
						NOT = { has_global_variable = SGF_formed_from_AUS_globevar }
						NOT = { has_global_variable = GER_formed_from_AUS_globevar }
					}
					AND = {
						exists = c:SGF 
						THIS = c:SGF
						has_global_variable = SGF_formed_from_AUS_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_AUS_globevar
					}
		        }
			}
		}
		set_global_variable = suicide_rudolf_born
		owner = {
			create_character = {
				first_name = Rudolf
				last_name = von_Habsburg
				historical = yes
				noble = yes
				heir = yes		
				female = no
				birth_date = 1858.8.21
				interest_group = ig_intelligentsia
				dna = dna_aus_rudolf_01
				ideology = ideology_reformer
				traits = {
					reckless
					alcoholic
					psychological_affliction
				}
				on_created = {
					set_variable = is_habsburg
					set_variable = is_suicide_rudolf
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1864
			has_global_variable = suicide_rudolf_born
			NOT = { has_global_variable = franz_ferdinand_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_habsburg }
				OR = {
					was_formed_from = AUS
					AND = { 
						exists = c:AUS 
						THIS = c:AUS 
						NOT = { has_global_variable = SGF_formed_from_AUS_globevar }
						NOT = { has_global_variable = GER_formed_from_AUS_globevar }
					}
					AND = {
						exists = c:SGF 
						THIS = c:SGF
						has_global_variable = SGF_formed_from_AUS_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_AUS_globevar
					}
		        }
			}
		}
		set_global_variable = franz_ferdinand_born
		owner = {
			create_character = {
				first_name = Franz_Ferdinand
				last_name = von_Habsburg
				historical = yes
				noble = yes
				heir = yes		
				female = no
				birth_date = 1863.12.18
				interest_group = ig_armed_forces
				dna = dna_aus_franz_ferdinand_01
				ideology = ideology_reformer
				traits = {
					explorer
					romantic
					direct
					persistent
				}
				on_created = {
					set_variable = is_married
					set_variable = is_habsburg
					set_variable = is_franz_ferdinand
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year >= 1888
			has_global_variable = suicide_rudolf_born
			has_global_variable = franz_ferdinand_born
			NOT = { has_global_variable = kiddie_karl_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_habsburg }
				OR = {
					was_formed_from = AUS
					AND = { 
						exists = c:AUS 
						THIS = c:AUS 
						NOT = { has_global_variable = SGF_formed_from_AUS_globevar }
						NOT = { has_global_variable = GER_formed_from_AUS_globevar }
					}
					AND = {
						exists = c:SGF 
						THIS = c:SGF
						has_global_variable = SGF_formed_from_AUS_globevar
					}
					AND = {
						exists = c:GER 
						THIS = c:GER
						has_global_variable = GER_formed_from_AUS_globevar
					}
		        }
			}
		}
		set_global_variable = kiddie_karl_born
		owner = {
			create_character = {
				first_name = Karl
				last_name = von_Habsburg
				historical = yes
				noble = yes
				heir = yes		
				female = no
				birth_date = 1887.8.17
				interest_group = ig_devout
				dna = dna_aus_karl_01
				ideology = ideology_reformer
				traits = {
					pious
					charismatic
				}
				on_created = {
					set_variable = is_married
					set_variable = is_habsburg
					set_variable = is_kiddie_karl
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_habsburg }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_habsburg }
			}
		}
		set_variable = is_habsburg
	}
}

HJE_apply_historical_dynasty_heirs_SAR_effect = {
	if = {
		limit = {
			year < 1845
			NOT = { has_global_variable = umberto_i_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_savoy }
				OR = {
					was_formed_from = SAR
					AND = { 
						exists = c:SAR 
						THIS = c:SAR 
						NOT = { has_global_variable = ITA_formed_from_SAR_globevar }
					}
					AND = {
						exists = c:ITA 
						THIS = c:ITA
						has_global_variable = ITA_formed_from_SAR_globevar
					}
		        }
			}
		}
		set_global_variable = umberto_i_born
		owner = {
			create_character = {
				first_name = Umberto
				last_name = di_Savoia
				historical = yes
				noble = yes
				heir = yes		
				female = no
				age = 0
				interest_group = ig_petty_bourgeoisie
				dna = dna_sar_umberto_01
				ideology = ideology_authoritarian
				traits = {
					wrathful
					cruel
					direct	
				}
				on_created = {
					set_variable = is_savoy
					set_variable = is_umberto_i
					set_variable = weight_does_not_change
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1845
			NOT = { has_global_variable = umberto_i_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_savoy }
				OR = {
					was_formed_from = SAR
					AND = { 
						exists = c:SAR 
						THIS = c:SAR 
						NOT = { has_global_variable = ITA_formed_from_SAR_globevar }
					}
					AND = {
						exists = c:ITA 
						THIS = c:ITA
						has_global_variable = ITA_formed_from_SAR_globevar
					}
		        }
			}
		}
		set_global_variable = umberto_i_born
		owner = {
			create_character = {
				first_name = Umberto
				last_name = di_Savoia
				historical = yes
				noble = yes
				heir = yes		
				female = no
				birth_date = 1844.3.14
				interest_group = ig_petty_bourgeoisie
				dna = dna_sar_umberto_01
				ideology = ideology_authoritarian
				traits = {
					wrathful
					cruel
					direct	
				}
				on_created = {
					set_variable = is_married
					set_variable = is_savoy
					set_variable = is_umberto_i
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = {
		limit = {
			year < 1870
			has_global_variable = umberto_i_born
			NOT = { has_global_variable = vittoro_emmanuele_iii_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_savoy }
				OR = {
					was_formed_from = SAR
					AND = { 
						exists = c:SAR 
						THIS = c:SAR 
						NOT = { has_global_variable = ITA_formed_from_SAR_globevar }
					}
					AND = {
						exists = c:ITA 
						THIS = c:ITA
						has_global_variable = ITA_formed_from_SAR_globevar
					}
		        }
			}
		}
		set_global_variable = vittoro_emmanuele_iii_born
		owner = {
			create_character = {
				first_name = Vittorio_Emanuele
				last_name = di_Savoia
				historical = yes
				noble = yes
				heir = yes		
				female = no
				age = 0
				interest_group = ig_petty_bourgeoisie
				dna = dna_sar_vittorio_emanuele_03
				ideology = ideology_moderate
				traits = {
					tactful	
					reserved
				}
				on_created = {
					set_variable = is_married
					set_variable = is_savoy
					set_variable = is_victor_emmanuel_iii
					set_variable = weight_does_not_change
				}
			}
		}
	}
	else_if = {
		limit = {
			year >= 1870
			has_global_variable = umberto_i_born
			NOT = { has_global_variable = vittoro_emmanuele_iii_born }
			owner = { 
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_savoy }
				OR = {
					was_formed_from = SAR
					AND = { 
						exists = c:SAR 
						THIS = c:SAR 
						NOT = { has_global_variable = ITA_formed_from_SAR_globevar }
					}
					AND = {
						exists = c:ITA 
						THIS = c:ITA
						has_global_variable = ITA_formed_from_SAR_globevar
					}
		        }
			}
		}
		set_global_variable = vittoro_emmanuele_iii_born
		owner = {
			create_character = {
				first_name = Vittorio_Emanuele
				last_name = di_Savoia
				historical = yes
				noble = yes
				heir = yes		
				female = no
				birth_date = 1869.11.11
				interest_group = ig_petty_bourgeoisie
				dna = dna_sar_vittorio_emanuele_03
				ideology = ideology_moderate
				traits = {
					tactful	
					reserved
				}
				on_created = {
					set_variable = is_married
					set_variable = is_savoy
					set_variable = is_victor_emmanuel_iii
					set_variable = weight_does_not_change
				}
			}
		}
	}
	if = { ## NON HISTORICAL CHARACTER FIX ##
		limit = {
			NOT = { has_variable = is_savoy }
			owner = {
				has_law = law_type:law_monarchy 
				ruler = { has_variable = is_savoy }
			}
		}
		set_variable = is_savoy
	}
}
